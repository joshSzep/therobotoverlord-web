{"version":3,"sources":["/Users/joshszep/code/therobotoverlord-mono/therobotoverlord-web/jest.setup.js"],"sourcesContent":["import '@testing-library/jest-dom'\n\n// Mock Next.js router\njest.mock('next/router', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n    back: jest.fn(),\n    pathname: '/feed',\n    query: {},\n    asPath: '/feed',\n    route: '/feed',\n  }),\n}))\n\n// Mock Next.js navigation\njest.mock('next/navigation', () => ({\n  usePathname: () => '/feed',\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n    back: jest.fn(),\n  }),\n  useSearchParams: () => new URLSearchParams(),\n}))\n\n// Mock Next.js Image component\njest.mock('next/image', () => ({\n  __esModule: true,\n  default: (props) => {\n    // eslint-disable-next-line @next/next/no-img-element\n    return React.createElement('img', { ...props, alt: props.alt || '' })\n  },\n}))\n\n// Mock AuthContext globally\njest.mock('@/contexts/AuthContext', () => ({\n  AuthProvider: ({ children }) => children,\n  useAuth: () => ({\n    user: { \n      id: '1', \n      username: 'testuser', \n      email: 'test@example.com', \n      displayName: 'Test User',\n      name: 'Test User'\n    },\n    isAuthenticated: true,\n    isLoading: false,\n    error: null,\n    login: jest.fn(),\n    loginWithGoogle: jest.fn(),\n    logout: jest.fn(),\n    register: jest.fn(),\n    updateProfile: jest.fn(),\n    refreshToken: jest.fn(),\n    clearError: jest.fn(),\n    updateUser: jest.fn(),\n  }),\n  useRequireAuth: () => ({\n    user: { \n      id: '1', \n      username: 'testuser', \n      email: 'test@example.com', \n      displayName: 'Test User',\n      name: 'Test User'\n    },\n    isAuthenticated: true,\n    isLoading: false,\n    error: null,\n    login: jest.fn(),\n    loginWithGoogle: jest.fn(),\n    logout: jest.fn(),\n    register: jest.fn(),\n    updateProfile: jest.fn(),\n    refreshToken: jest.fn(),\n    clearError: jest.fn(),\n    updateUser: jest.fn(),\n  }),\n}))\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}))\n\n// Mock ResizeObserver\nglobal.ResizeObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}))\n\n// Mock matchMedia\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(), // deprecated\n    removeListener: jest.fn(), // deprecated\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n})\n\n// Mock localStorage\nconst localStorageMock = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n}\nglobal.localStorage = localStorageMock\n\n// Mock sessionStorage\nconst sessionStorageMock = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n}\nglobal.sessionStorage = sessionStorageMock\n\n// Mock fetch\nglobal.fetch = jest.fn()\n\n// Mock API client\njest.mock('@/lib/api-client', () => ({\n  apiClient: {\n    get: jest.fn(),\n    post: jest.fn(),\n    put: jest.fn(),\n    delete: jest.fn(),\n    setAuthToken: jest.fn(),\n    clearAuthToken: jest.fn(),\n  },\n}))\n\n// Mock console methods to reduce noise in tests\nglobal.console = {\n  ...console,\n  // Uncomment to ignore specific console methods\n  // log: jest.fn(),\n  // debug: jest.fn(),\n  // info: jest.fn(),\n  warn: jest.fn(),\n  error: jest.fn(),\n}\n\n// Setup custom matchers\nexpect.extend({\n  toBeInTheDocument: require('@testing-library/jest-dom/matchers').toBeInTheDocument,\n})\n\n// Clean up after each test\nafterEach(() => {\n  jest.clearAllMocks()\n})\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","back","pathname","query","asPath","route","usePathname","useSearchParams","URLSearchParams","__esModule","default","props","React","createElement","alt","AuthProvider","children","useAuth","user","id","username","email","displayName","name","isAuthenticated","isLoading","error","login","loginWithGoogle","logout","register","updateProfile","refreshToken","clearError","updateUser","useRequireAuth","apiClient","get","post","put","delete","setAuthToken","clearAuthToken","global","IntersectionObserver","mockImplementation","observe","unobserve","disconnect","ResizeObserver","Object","defineProperty","window","writable","value","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","localStorageMock","getItem","setItem","removeItem","clear","localStorage","sessionStorageMock","sessionStorage","fetch","console","warn","expect","extend","toBeInTheDocument","require","afterEach","clearAllMocks"],"mappings":"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"}