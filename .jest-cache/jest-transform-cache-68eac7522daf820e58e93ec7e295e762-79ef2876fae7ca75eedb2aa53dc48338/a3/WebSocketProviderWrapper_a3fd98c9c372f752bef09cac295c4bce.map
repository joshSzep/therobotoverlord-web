{"version":3,"names":["WebSocketProviderWrapper","children","cov_24mtdtmkjm","f","isAuthenticated","user","s","_AuthContext","useAuth","b","token","window","localStorage","getItem","_jsxruntime","jsx","_WebSocketProvider","WebSocketProvider","Fragment"],"sources":["/Users/joshszep/code/therobotoverlord-mono/therobotoverlord-web/src/components/providers/WebSocketProviderWrapper.tsx"],"sourcesContent":["/**\n * WebSocket Provider Wrapper\n * Conditionally provides WebSocket connection based on authentication state\n */\n\n'use client';\n\nimport React from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { WebSocketProvider } from '@/components/WebSocketProvider';\n\ninterface WebSocketProviderWrapperProps {\n  children: React.ReactNode;\n}\n\nexport function WebSocketProviderWrapper({ children }: WebSocketProviderWrapperProps) {\n  const { isAuthenticated, user } = useAuth();\n\n  // Only provide WebSocket connection if user is authenticated\n  if (isAuthenticated && user) {\n    // Get token from localStorage (same as what API client uses)\n    const token = typeof window !== 'undefined' ? localStorage.getItem('auth_token') || '' : '';\n    \n    return (\n      <WebSocketProvider token={token}>\n        {children}\n      </WebSocketProvider>\n    );\n  }\n\n  // Return children without WebSocket provider if not authenticated\n  return <>{children}</>;\n}\n"],"mappings":"AAAA;;;GAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAUgB;;;;;;WAAAA,wBAAA;;;;;;;;wEARE;;;kCACM;;;kCACU;;;;;;;;;;;;;;;AAM3B,SAASA,yBAAyB;EAAEC;AAAQ,CAAiC;EAAA;EAAAC,cAAA,GAAAC,CAAA;EAClF,MAAM;IAAEC,eAAe;IAAEC;EAAI,CAAE;EAAA;EAAA,CAAAH,cAAA,GAAAI,CAAA,OAAG,IAAAC,YAAA,CAAAC,OAAO;EAEzC;EAAA;EAAAN,cAAA,GAAAI,CAAA;EACA;EAAI;EAAA,CAAAJ,cAAA,GAAAO,CAAA,UAAAL,eAAA;EAAA;EAAA,CAAAF,cAAA,GAAAO,CAAA,UAAmBJ,IAAA,GAAM;IAAA;IAAAH,cAAA,GAAAO,CAAA;IAC3B;IACA,MAAMC,KAAA;IAAA;IAAA,CAAAR,cAAA,GAAAI,CAAA,QAAQ,OAAOK,MAAA,KAAW;IAAA;IAAA,CAAAT,cAAA,GAAAO,CAAA;IAAc;IAAA,CAAAP,cAAA,GAAAO,CAAA,UAAAG,YAAA,CAAaC,OAAO,CAAC;IAAA;IAAA,CAAAX,cAAA,GAAAO,CAAA,UAAiB;IAAA;IAAA,CAAAP,cAAA,GAAAO,CAAA,UAAK;IAAA;IAAAP,cAAA,GAAAI,CAAA;IAEzF,oBACE,IAAAQ,WAAA,CAAAC,GAAA,EAACC,kBAAA,CAAAC,iBAAiB;MAACP,KAAA,EAAOA,KAAA;gBACvBT;;EAGP;EAAA;EAAA;IAAAC,cAAA,GAAAO,CAAA;EAAA;EAEA;EAAAP,cAAA,GAAAI,CAAA;EACA,oBAAO,IAAAQ,WAAA,CAAAC,GAAA,EAAAD,WAAA,CAAAI,QAAA;cAAGjB;;AACZ","ignoreList":[]}