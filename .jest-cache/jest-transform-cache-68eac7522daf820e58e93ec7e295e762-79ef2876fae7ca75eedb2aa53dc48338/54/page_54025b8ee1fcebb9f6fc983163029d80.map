{"version":3,"names":["GoogleCallbackPage","cov_2gn2qw0ka7","f","loginWithGoogle","isLoading","s","_AuthContext","useAuth","router","_navigation","useRouter","searchParams","useSearchParams","error","setError","_react","useState","useEffect","handleCallback","code","get","state","b","Error","provider","redirect_uri","window","location","origin","push","console","message","setTimeout","_jsxruntime","jsx","className","jsxs"],"sources":["/Users/joshszep/code/therobotoverlord-mono/therobotoverlord-web/src/app/auth/callback/google/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useRouter, useSearchParams } from 'next/navigation';\n\nexport default function GoogleCallbackPage() {\n  const { loginWithGoogle, isLoading } = useAuth();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const handleCallback = async () => {\n      try {\n        const code = searchParams.get('code');\n        const state = searchParams.get('state');\n        const error = searchParams.get('error');\n\n        if (error) {\n          throw new Error(`OAuth error: ${error}`);\n        }\n\n        if (!code) {\n          throw new Error('No authorization code received');\n        }\n\n        // Exchange code for tokens\n        await loginWithGoogle({\n          provider: 'google',\n          code,\n          redirect_uri: window.location.origin + '/auth/callback/google',\n        });\n\n        // Redirect to dashboard on success\n        router.push('/dashboard');\n      } catch (error: any) {\n        console.error('Google OAuth callback error:', error);\n        setError(error.message || 'Authentication failed');\n        \n        // Redirect to login with error after 3 seconds\n        setTimeout(() => {\n          router.push('/login?error=oauth_failed');\n        }, 3000);\n      }\n    };\n\n    handleCallback();\n  }, [searchParams, loginWithGoogle, router]);\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n        <div className=\"w-full max-w-md text-center space-y-4\">\n          <div className=\"p-6 bg-rejected-red/10 border border-rejected-red rounded-lg\">\n            <h2 className=\"text-lg font-semibold text-rejected-red mb-2\">\n              Authentication Failed\n            </h2>\n            <p className=\"text-rejected-red text-sm mb-4\">{error}</p>\n            <p className=\"text-muted-light text-xs\">\n              Redirecting to login page...\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md text-center space-y-4\">\n        <div className=\"p-6 bg-card rounded-lg border\">\n          <div className=\"flex items-center justify-center mb-4\">\n            <div className=\"w-8 h-8 border-2 border-overlord-red border-t-transparent rounded-full animate-spin\"></div>\n          </div>\n          <h2 className=\"text-lg font-semibold text-light-text mb-2\">\n            Processing Authentication\n          </h2>\n          <p className=\"text-muted-light text-sm\">\n            Please wait while we verify your credentials with the Robot Overlord...\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}