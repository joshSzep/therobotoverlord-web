{"version":3,"names":["CreateTopicPage","cov_15jbzgirq5","f","router","s","_navigation","useRouter","addNotification","_appStore","useAppStore","categories","setCategories","_react","useState","isLoading","setIsLoading","error","setError","loadCategories","response","_services","topicsService","getCategories","b","success","data","Error","err","errorMessage","message","type","title","useEffect","handleTopicSubmit","topicData","createTopic","push","slug","handleCancel","_jsxruntime","jsx","className","jsxs","_Card","Card","variant","CardHeader","CardContent","_Button","Button","onClick","_TopicForm","TopicForm","onSubmit","onCancel","mode"],"sources":["/Users/joshszep/code/therobotoverlord-mono/therobotoverlord-web/src/app/topics/topics/new/page.tsx"],"sourcesContent":["/**\n * Topic creation page for The Robot Overlord\n * Allows users to create new discussion topics\n */\n\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { TopicForm } from '@/components/topics/TopicForm';\nimport { Card, CardContent, CardHeader } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { useAppStore } from '@/stores/appStore';\nimport { topicsService } from '@/services';\nimport { TopicCategory } from '@/types/topics';\nimport { ApiResponse } from '@/types/api';\n\nexport default function CreateTopicPage() {\n  const router = useRouter();\n  const { addNotification } = useAppStore();\n  \n  const [categories, setCategories] = useState<TopicCategory[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Load categories\n  const loadCategories = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      const response = await topicsService.getCategories();\n      if (response.success && response.data) {\n        setCategories(response.data);\n      } else {\n        throw new Error('Failed to load categories');\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load categories';\n      setError(errorMessage);\n      addNotification({\n        type: 'error',\n        title: 'Error Loading Categories',\n        message: errorMessage,\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Initial load\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  // Handle topic creation\n  const handleTopicSubmit = async (topicData: any) => {\n    try {\n      const response = await topicsService.createTopic(topicData);\n\n      if (response.success && response.data) {\n        addNotification({\n          type: 'success',\n          title: 'Topic Created',\n          message: 'Your topic has been created successfully',\n        });\n\n        // Redirect to the new topic\n        router.push(`/topics/${response.data.slug}`);\n      } else {\n        throw new Error('Failed to create topic');\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to create topic';\n      addNotification({\n        type: 'error',\n        title: 'Topic Creation Error',\n        message: errorMessage,\n      });\n    }\n  };\n\n  // Handle cancel\n  const handleCancel = () => {\n    router.push('/topics');\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"max-w-4xl mx-auto\">\n        <Card variant=\"bordered\" className=\"animate-pulse\">\n          <CardHeader className=\"pb-4\">\n            <div className=\"h-8 bg-muted/20 rounded w-1/3\"></div>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div className=\"h-4 bg-muted/20 rounded w-1/4\"></div>\n            <div className=\"h-10 bg-muted/20 rounded\"></div>\n            <div className=\"h-4 bg-muted/20 rounded w-1/4\"></div>\n            <div className=\"h-32 bg-muted/20 rounded\"></div>\n            <div className=\"h-4 bg-muted/20 rounded w-1/4\"></div>\n            <div className=\"h-10 bg-muted/20 rounded\"></div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center py-12\">\n          <div className=\"text-6xl mb-4\">⚠️</div>\n          <h3 className=\"text-xl font-bold text-light-text mb-2\">\n            Unable to Load Categories\n          </h3>\n          <p className=\"text-muted-light mb-6\">\n            {error}\n          </p>\n          <div className=\"flex items-center justify-center space-x-4\">\n            <Button variant=\"ghost\" onClick={() => router.push('/topics')}>\n              Back to Topics\n            </Button>\n            <Button variant=\"primary\" onClick={loadCategories}>\n              Try Again\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-light-text\">Create New Topic</h1>\n          <p className=\"text-muted-light mt-1\">\n            Start a new discussion in the Robot Overlord community\n          </p>\n        </div>\n        <Button variant=\"ghost\" onClick={handleCancel}>\n          Cancel\n        </Button>\n      </div>\n\n      {/* Topic Creation Form */}\n      <TopicForm\n        onSubmit={handleTopicSubmit}\n        onCancel={handleCancel}\n        categories={categories}\n        mode=\"create\"\n      />\n    </div>\n  );\n}\n"],"mappings":"AAAA;;;GAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}