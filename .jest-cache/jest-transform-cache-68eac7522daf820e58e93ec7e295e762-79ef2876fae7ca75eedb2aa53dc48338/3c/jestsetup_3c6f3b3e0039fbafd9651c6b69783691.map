{"version":3,"sources":["/Users/joshszep/code/therobotoverlord-mono/therobotoverlord-web/jest.setup.js"],"sourcesContent":["import '@testing-library/jest-dom'\n\n// Mock Next.js router\njest.mock('next/router', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n    back: jest.fn(),\n    pathname: '/feed',\n    query: {},\n    asPath: '/feed',\n    route: '/feed',\n  }),\n}))\n\n// Mock Next.js Image component\njest.mock('next/image', () => ({\n  __esModule: true,\n  default: (props) => {\n    // eslint-disable-next-line @next/next/no-img-element\n    return React.createElement('img', { ...props, alt: props.alt || '' })\n  },\n}))\n\n// Mock AuthContext globally\njest.mock('@/contexts/AuthContext', () => ({\n  AuthProvider: ({ children }) => children,\n  useAuth: () => ({\n    user: { \n      id: '1', \n      username: 'testuser', \n      email: 'test@example.com', \n      displayName: 'Test User',\n      name: 'Test User'\n    },\n    isAuthenticated: true,\n    isLoading: false,\n    error: null,\n    login: jest.fn(),\n    loginWithGoogle: jest.fn(),\n    logout: jest.fn(),\n    register: jest.fn(),\n    updateProfile: jest.fn(),\n    refreshToken: jest.fn(),\n    clearError: jest.fn(),\n    updateUser: jest.fn(),\n  }),\n  useRequireAuth: () => ({\n    user: { \n      id: '1', \n      username: 'testuser', \n      email: 'test@example.com', \n      displayName: 'Test User',\n      name: 'Test User'\n    },\n    isAuthenticated: true,\n    isLoading: false,\n    error: null,\n    login: jest.fn(),\n    loginWithGoogle: jest.fn(),\n    logout: jest.fn(),\n    register: jest.fn(),\n    updateProfile: jest.fn(),\n    refreshToken: jest.fn(),\n    clearError: jest.fn(),\n    updateUser: jest.fn(),\n  }),\n}))\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}))\n\n// Mock ResizeObserver\nglobal.ResizeObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}))\n\n// Mock matchMedia\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(), // deprecated\n    removeListener: jest.fn(), // deprecated\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n})\n\n// Mock localStorage\nconst localStorageMock = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n}\nglobal.localStorage = localStorageMock\n\n// Mock sessionStorage\nconst sessionStorageMock = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n}\nglobal.sessionStorage = sessionStorageMock\n\n// Mock fetch\nglobal.fetch = jest.fn()\n\n// Mock API client\njest.mock('@/lib/api-client', () => ({\n  apiClient: {\n    get: jest.fn(),\n    post: jest.fn(),\n    put: jest.fn(),\n    delete: jest.fn(),\n    setAuthToken: jest.fn(),\n    clearAuthToken: jest.fn(),\n  },\n}))\n\n// Mock console methods to reduce noise in tests\nglobal.console = {\n  ...console,\n  // Uncomment to ignore specific console methods\n  // log: jest.fn(),\n  // debug: jest.fn(),\n  // info: jest.fn(),\n  warn: jest.fn(),\n  error: jest.fn(),\n}\n\n// Setup custom matchers\nexpect.extend({\n  toBeInTheDocument: require('@testing-library/jest-dom/matchers').toBeInTheDocument,\n})\n\n// Clean up after each test\nafterEach(() => {\n  jest.clearAllMocks()\n})\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","back","pathname","query","asPath","route","__esModule","default","props","React","createElement","alt","AuthProvider","children","useAuth","user","id","username","email","displayName","name","isAuthenticated","isLoading","error","login","loginWithGoogle","logout","register","updateProfile","refreshToken","clearError","updateUser","useRequireAuth","apiClient","get","post","put","delete","setAuthToken","clearAuthToken","global","IntersectionObserver","mockImplementation","observe","unobserve","disconnect","ResizeObserver","Object","defineProperty","window","writable","value","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","localStorageMock","getItem","setItem","removeItem","clear","localStorage","sessionStorageMock","sessionStorage","fetch","console","warn","expect","extend","toBeInTheDocument","require","afterEach","clearAllMocks"],"mappings":"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"}