d3e4d57803926ea93270e16f9b677035
"use strict";
// Mock the lazy components
jest.mock("@/components/lazy/LazyComponents", ()=>({
        LazyContentFeed: ({ items = [], onLoadMore, hasMore, isLoadingMore })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "content-feed",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "feed-items",
                        children: items.map((item)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                "data-testid": `feed-item-${item.id}`,
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                        children: item.data?.title || item.title
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        children: item.data?.content || item.content
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                        children: [
                                            "By ",
                                            item.data?.author || item.author
                                        ]
                                    })
                                ]
                            }, item.id))
                    }),
                    hasMore && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onLoadMore,
                        disabled: isLoadingMore,
                        "data-testid": "load-more-button",
                        children: isLoadingMore ? "Loading..." : "Load More"
                    })
                ]
            }),
        LazyPersonalizedRecommendations: ({ limit, categories = [] })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "recommendations",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                        children: "Recommendations"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                        children: [
                            "Limit: ",
                            limit
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                        children: [
                            "Categories: ",
                            categories.join(", ")
                        ]
                    })
                ]
            })
    }));
jest.mock('@/hooks/useRealTimeUpdates', ()=>({
        useRealTimeUpdates: ()=>({
                isConnected: true,
                connectionStatus: 'connected',
                lastUpdate: null,
                subscribe: jest.fn(),
                unsubscribe: jest.fn()
            })
    }));
jest.mock('@/hooks/usePerformanceMonitoring', ()=>({
        usePerformanceMonitoring: ()=>({
                startMeasurement: jest.fn(),
                endMeasurement: jest.fn(),
                getMetrics: jest.fn().mockReturnValue({})
            })
    }));
// Mock other UI components
jest.mock("@/components/ui/LoadingSpinner", ()=>({
        LoadingState: ({ children, isLoading, error, skeleton })=>{
            if (isLoading) return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "loading-state",
                children: skeleton
            });
            if (error) return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "error-state",
                children: "Error loading feed"
            });
            return children;
        }
    }));
jest.mock("@/components/ui/EmptyState", ()=>({
        EmptyFeedState: ({ onRefresh })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "empty-feed-state",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                        children: "No posts yet"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        children: "Be the first to create a post!"
                    }),
                    onRefresh && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onRefresh,
                        "data-testid": "refresh-button",
                        children: "Refresh"
                    })
                ]
            })
    }));
jest.mock("@/components/feed/FeedFilters", ()=>({
        FeedFilters: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "feed-filters",
                children: "Mock Feed Filters"
            })
    }));
jest.mock("@/services", ()=>({
        postsService: {
            getPosts: jest.fn().mockImplementation(()=>{
                return Promise.resolve([
                    {
                        id: '1',
                        title: 'Test Post 1',
                        content: 'Content 1',
                        author: 'User1'
                    },
                    {
                        id: '2',
                        title: 'Test Post 2',
                        content: 'Content 2',
                        author: 'User2'
                    }
                ]);
            }),
            getPost: jest.fn(),
            createPost: jest.fn(),
            updatePost: jest.fn(),
            deletePost: jest.fn()
        },
        topicsService: {
            getTopics: jest.fn().mockResolvedValue([]),
            getTopic: jest.fn(),
            createTopic: jest.fn(),
            updateTopic: jest.fn(),
            deleteTopic: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _page = /*#__PURE__*/ _interop_require_default(require("../../app/feed/page"));
const _testutils = require("../utils/test-utils");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock the real-time updates hook
const mockUseRealTimeUpdates = jest.fn().mockReturnValue({
    isConnected: true,
    connectionStatus: 'connected',
    lastUpdate: null,
    subscribe: jest.fn(),
    unsubscribe: jest.fn()
});
// Mock performance monitoring
const mockUsePerformanceMonitoring = jest.fn().mockReturnValue({
    startMeasurement: jest.fn(),
    endMeasurement: jest.fn(),
    getMetrics: jest.fn().mockReturnValue({})
});
// Mock services with different behaviors for different tests
const mockPostsService = {
    getPosts: jest.fn().mockImplementation(()=>{
        // Default to returning mock posts, but can be overridden per test
        return Promise.resolve([
            {
                id: '1',
                title: 'Test Post 1',
                content: 'Content 1',
                author: 'User1'
            },
            {
                id: '2',
                title: 'Test Post 2',
                content: 'Content 2',
                author: 'User2'
            }
        ]);
    }),
    getPost: jest.fn(),
    createPost: jest.fn(),
    updatePost: jest.fn(),
    deletePost: jest.fn()
};
const mockTopicsService = {
    getTopics: jest.fn().mockResolvedValue([]),
    getTopic: jest.fn(),
    createTopic: jest.fn(),
    updateTopic: jest.fn(),
    deleteTopic: jest.fn()
};
// Mock API calls
const mockFetch = jest.fn();
global.fetch = mockFetch;
describe("Feed Page Integration", ()=>{
    const mockPosts = [
        (0, _testutils.createMockPost)({
            id: "1",
            title: "AI Revolution",
            content: "The future of AI is here",
            author: "ai_expert"
        }),
        (0, _testutils.createMockPost)({
            id: "2",
            title: "Machine Learning Basics",
            content: "Understanding ML fundamentals",
            author: "ml_teacher"
        })
    ];
    beforeEach(()=>{
        mockFetch.mockClear();
        // Mock successful API responses
        mockFetch.mockResolvedValue({
            ok: true,
            json: async ()=>({
                    posts: mockPosts,
                    hasMore: true,
                    total: 10
                })
        });
    });
    it("renders feed page with posts", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Wait for posts to load
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Check for feed title
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
    });
    it("displays loading state initially", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Wait for content to load
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Content should be rendered
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
    });
    it("handles filter changes", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("feed-filters")).toBeInTheDocument();
        });
        // Should render filters component
        expect(_react.screen.getByText("Mock Feed Filters")).toBeInTheDocument();
    });
    it("implements infinite scrolling", async ()=>{
        const user = _userevent.default.setup();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Mock additional posts for load more
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    posts: [
                        (0, _testutils.createMockPost)({
                            id: "3",
                            title: "New Post"
                        })
                    ],
                    hasMore: false,
                    total: 3
                })
        });
        // Click load more button
        const loadMoreButton = _react.screen.getByRole('button', {
            name: /load more/i
        }) || _react.screen.getByText(/load more/i);
        await user.click(loadMoreButton);
        // Should show loading state
        expect(loadMoreButton).toHaveTextContent("Loading...");
        // Wait for new content
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText("New Post")).toBeInTheDocument();
        });
    });
    it("shows recommendations sidebar", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Check for feed content
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
    });
    it("handles real-time updates", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Check that real-time updates hook is called
        await (0, _react.waitFor)(()=>{
            expect(mockUseRealTimeUpdates).toHaveBeenCalled();
        }, {
            timeout: 3000
        });
    });
    it("handles API errors gracefully", async ()=>{
        // Mock API error
        mockPostsService.getPosts.mockRejectedValueOnce(new Error("API Error"));
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Should still render the page structure
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
        });
    });
    it("shows empty state when no posts", async ()=>{
        // Mock empty posts for this test
        mockPostsService.getPosts.mockResolvedValueOnce([]);
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Should render the page with empty state component
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("empty-feed-state")).toBeInTheDocument();
        }, {
            timeout: 3000
        });
    });
    it("maintains accessibility standards", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Check for proper heading structure - look for the actual heading
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
        // Wait for content to load
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Check keyboard navigation
        const buttons = _react.screen.getAllByRole("button");
        if (buttons.length > 0 && buttons[0]) {
            buttons[0].focus();
            // Should be able to focus elements
            expect(document.activeElement).toBe(buttons[0]);
        }
    });
    it("handles responsive layout", ()=>{
        // Mock different viewport sizes
        Object.defineProperty(window, "innerWidth", {
            writable: true,
            configurable: true,
            value: 768
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Check if layout renders properly on mobile
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
        // Verify responsive behavior exists
        expect(window.innerWidth).toBe(768);
    });
    it("preserves scroll position on navigation", async ()=>{
        // Mock window.scrollTo and scrollY
        const mockScrollTo = jest.fn();
        Object.defineProperty(window, "scrollTo", {
            value: mockScrollTo,
            writable: true
        });
        Object.defineProperty(window, "scrollY", {
            value: 0,
            writable: true,
            configurable: true
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Simulate scroll down
        mockScrollTo(0, 500);
        Object.defineProperty(window, "scrollY", {
            value: 500,
            writable: true
        });
        expect(mockScrollTo).toHaveBeenCalledWith(0, 500);
        expect(window.scrollY).toBe(500);
        // Verify scroll restoration capability exists
        expect(typeof window.scrollTo).toBe("function");
    });
    it("integrates with performance monitoring", async ()=>{
        // Mock performance.now for consistent timing
        const mockPerformanceNow = jest.spyOn(performance, "now");
        mockPerformanceNow.mockReturnValueOnce(0).mockReturnValueOnce(100);
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Verify performance monitoring is available
        expect(typeof performance.now).toBe("function");
        expect(mockPerformanceNow).toHaveBeenCalled();
        mockPerformanceNow.mockRestore();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb3Noc3plcC9jb2RlL3RoZXJvYm90b3ZlcmxvcmQtbW9uby90aGVyb2JvdG92ZXJsb3JkLXdlYi9zcmMvX190ZXN0c19fL3BhZ2VzL2ZlZWQuaW50ZWdyYXRpb24udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIHdhaXRGb3IsIGZpcmVFdmVudCB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0XCI7XG5pbXBvcnQgdXNlckV2ZW50IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnRcIjtcbmltcG9ydCBGZWVkUGFnZSBmcm9tIFwiQC9hcHAvZmVlZC9wYWdlXCI7XG5pbXBvcnQgeyBjcmVhdGVNb2NrUG9zdCwgSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzIH0gZnJvbSBcIi4uL3V0aWxzL3Rlc3QtdXRpbHNcIjtcblxuLy8gTW9jayB0aGUgbGF6eSBjb21wb25lbnRzXG5qZXN0Lm1vY2soXCJAL2NvbXBvbmVudHMvbGF6eS9MYXp5Q29tcG9uZW50c1wiLCAoKSA9PiAoe1xuICBMYXp5Q29udGVudEZlZWQ6ICh7XG4gICAgaXRlbXMgPSBbXSxcbiAgICBvbkxvYWRNb3JlLFxuICAgIGhhc01vcmUsXG4gICAgaXNMb2FkaW5nTW9yZSxcbiAgfToge1xuICAgIGl0ZW1zPzogQXJyYXk8e1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGRhdGE/OiB7IHRpdGxlPzogc3RyaW5nOyBjb250ZW50Pzogc3RyaW5nOyBhdXRob3I/OiBzdHJpbmcgfTtcbiAgICAgIHRpdGxlPzogc3RyaW5nO1xuICAgICAgY29udGVudD86IHN0cmluZztcbiAgICAgIGF1dGhvcj86IHN0cmluZztcbiAgICB9PjtcbiAgICBvbkxvYWRNb3JlPzogKCkgPT4gdm9pZDtcbiAgICBoYXNNb3JlPzogYm9vbGVhbjtcbiAgICBpc0xvYWRpbmdNb3JlPzogYm9vbGVhbjtcbiAgfSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJjb250ZW50LWZlZWRcIj5cbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJmZWVkLWl0ZW1zXCI+XG4gICAgICAgIHtpdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17aXRlbS5pZH0gZGF0YS10ZXN0aWQ9e2BmZWVkLWl0ZW0tJHtpdGVtLmlkfWB9PlxuICAgICAgICAgICAgPGgzPntpdGVtLmRhdGE/LnRpdGxlIHx8IGl0ZW0udGl0bGV9PC9oMz5cbiAgICAgICAgICAgIDxwPntpdGVtLmRhdGE/LmNvbnRlbnQgfHwgaXRlbS5jb250ZW50fTwvcD5cbiAgICAgICAgICAgIDxzcGFuPkJ5IHtpdGVtLmRhdGE/LmF1dGhvciB8fCBpdGVtLmF1dGhvcn08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgICB7aGFzTW9yZSAmJiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkxvYWRNb3JlfVxuICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmdNb3JlfVxuICAgICAgICAgIGRhdGEtdGVzdGlkPVwibG9hZC1tb3JlLWJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7aXNMb2FkaW5nTW9yZSA/IFwiTG9hZGluZy4uLlwiIDogXCJMb2FkIE1vcmVcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApLFxuICBMYXp5UGVyc29uYWxpemVkUmVjb21tZW5kYXRpb25zOiAoe1xuICAgIGxpbWl0LFxuICAgIGNhdGVnb3JpZXMgPSBbXSxcbiAgfToge1xuICAgIGxpbWl0PzogbnVtYmVyO1xuICAgIGNhdGVnb3JpZXM/OiBzdHJpbmdbXTtcbiAgfSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJyZWNvbW1lbmRhdGlvbnNcIj5cbiAgICAgIDxoMz5SZWNvbW1lbmRhdGlvbnM8L2gzPlxuICAgICAgPHA+TGltaXQ6IHtsaW1pdH08L3A+XG4gICAgICA8cD5DYXRlZ29yaWVzOiB7Y2F0ZWdvcmllcy5qb2luKFwiLCBcIil9PC9wPlxuICAgIDwvZGl2PlxuICApLFxufSkpO1xuXG4vLyBNb2NrIHRoZSByZWFsLXRpbWUgdXBkYXRlcyBob29rXG5jb25zdCBtb2NrVXNlUmVhbFRpbWVVcGRhdGVzID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gIGlzQ29ubmVjdGVkOiB0cnVlLFxuICBjb25uZWN0aW9uU3RhdHVzOiAnY29ubmVjdGVkJyxcbiAgbGFzdFVwZGF0ZTogbnVsbCxcbiAgc3Vic2NyaWJlOiBqZXN0LmZuKCksXG4gIHVuc3Vic2NyaWJlOiBqZXN0LmZuKCksXG59KVxuXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlUmVhbFRpbWVVcGRhdGVzJywgKCkgPT4gKHtcbiAgdXNlUmVhbFRpbWVVcGRhdGVzOiAoKSA9PiAoe1xuICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdjb25uZWN0ZWQnLFxuICAgIGxhc3RVcGRhdGU6IG51bGwsXG4gICAgc3Vic2NyaWJlOiBqZXN0LmZuKCksXG4gICAgdW5zdWJzY3JpYmU6IGplc3QuZm4oKSxcbiAgfSksXG59KSlcblxuLy8gTW9jayBwZXJmb3JtYW5jZSBtb25pdG9yaW5nXG5jb25zdCBtb2NrVXNlUGVyZm9ybWFuY2VNb25pdG9yaW5nID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gIHN0YXJ0TWVhc3VyZW1lbnQ6IGplc3QuZm4oKSxcbiAgZW5kTWVhc3VyZW1lbnQ6IGplc3QuZm4oKSxcbiAgZ2V0TWV0cmljczogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7fSksXG59KVxuXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlUGVyZm9ybWFuY2VNb25pdG9yaW5nJywgKCkgPT4gKHtcbiAgdXNlUGVyZm9ybWFuY2VNb25pdG9yaW5nOiAoKSA9PiAoe1xuICAgIHN0YXJ0TWVhc3VyZW1lbnQ6IGplc3QuZm4oKSxcbiAgICBlbmRNZWFzdXJlbWVudDogamVzdC5mbigpLFxuICAgIGdldE1ldHJpY3M6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe30pLFxuICB9KSxcbn0pKTtcblxuLy8gTW9jayBvdGhlciBVSSBjb21wb25lbnRzXG5qZXN0Lm1vY2soXCJAL2NvbXBvbmVudHMvdWkvTG9hZGluZ1NwaW5uZXJcIiwgKCkgPT4gKHtcbiAgTG9hZGluZ1N0YXRlOiAoe1xuICAgIGNoaWxkcmVuLFxuICAgIGlzTG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBza2VsZXRvbixcbiAgfToge1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgaXNMb2FkaW5nPzogYm9vbGVhbjtcbiAgICBlcnJvcj86IHN0cmluZyB8IG51bGw7XG4gICAgc2tlbGV0b24/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIH0pID0+IHtcbiAgICBpZiAoaXNMb2FkaW5nKSByZXR1cm4gPGRpdiBkYXRhLXRlc3RpZD1cImxvYWRpbmctc3RhdGVcIj57c2tlbGV0b259PC9kaXY+O1xuICAgIGlmIChlcnJvcikgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJlcnJvci1zdGF0ZVwiPkVycm9yIGxvYWRpbmcgZmVlZDwvZGl2PjtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH0sXG59KSk7XG5cbmplc3QubW9jayhcIkAvY29tcG9uZW50cy91aS9FbXB0eVN0YXRlXCIsICgpID0+ICh7XG4gIEVtcHR5RmVlZFN0YXRlOiAoeyBvblJlZnJlc2ggfTogeyBvblJlZnJlc2g/OiAoKSA9PiB2b2lkIH0pID0+IChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiZW1wdHktZmVlZC1zdGF0ZVwiPlxuICAgICAgPGgyPk5vIHBvc3RzIHlldDwvaDI+XG4gICAgICA8cD5CZSB0aGUgZmlyc3QgdG8gY3JlYXRlIGEgcG9zdCE8L3A+XG4gICAgICB7b25SZWZyZXNoICYmIChcbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvblJlZnJlc2h9IGRhdGEtdGVzdGlkPVwicmVmcmVzaC1idXR0b25cIj5cbiAgICAgICAgICBSZWZyZXNoXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKSxcbn0pKTtcblxuamVzdC5tb2NrKFwiQC9jb21wb25lbnRzL2ZlZWQvRmVlZEZpbHRlcnNcIiwgKCkgPT4gKHtcbiAgRmVlZEZpbHRlcnM6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJmZWVkLWZpbHRlcnNcIj5Nb2NrIEZlZWQgRmlsdGVyczwvZGl2Pixcbn0pKTtcblxuLy8gTW9jayBzZXJ2aWNlcyB3aXRoIGRpZmZlcmVudCBiZWhhdmlvcnMgZm9yIGRpZmZlcmVudCB0ZXN0c1xuY29uc3QgbW9ja1Bvc3RzU2VydmljZSA9IHtcbiAgZ2V0UG9zdHM6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgIC8vIERlZmF1bHQgdG8gcmV0dXJuaW5nIG1vY2sgcG9zdHMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBwZXIgdGVzdFxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1xuICAgICAgeyBpZDogJzEnLCB0aXRsZTogJ1Rlc3QgUG9zdCAxJywgY29udGVudDogJ0NvbnRlbnQgMScsIGF1dGhvcjogJ1VzZXIxJyB9LFxuICAgICAgeyBpZDogJzInLCB0aXRsZTogJ1Rlc3QgUG9zdCAyJywgY29udGVudDogJ0NvbnRlbnQgMicsIGF1dGhvcjogJ1VzZXIyJyB9XG4gICAgXSlcbiAgfSksXG4gIGdldFBvc3Q6IGplc3QuZm4oKSxcbiAgY3JlYXRlUG9zdDogamVzdC5mbigpLFxuICB1cGRhdGVQb3N0OiBqZXN0LmZuKCksXG4gIGRlbGV0ZVBvc3Q6IGplc3QuZm4oKSxcbn07XG5cbmNvbnN0IG1vY2tUb3BpY3NTZXJ2aWNlID0ge1xuICBnZXRUb3BpY3M6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXSksXG4gIGdldFRvcGljOiBqZXN0LmZuKCksXG4gIGNyZWF0ZVRvcGljOiBqZXN0LmZuKCksXG4gIHVwZGF0ZVRvcGljOiBqZXN0LmZuKCksXG4gIGRlbGV0ZVRvcGljOiBqZXN0LmZuKCksXG59O1xuXG5qZXN0Lm1vY2soXCJAL3NlcnZpY2VzXCIsICgpID0+ICh7XG4gIHBvc3RzU2VydmljZToge1xuICAgIGdldFBvc3RzOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1xuICAgICAgICB7IGlkOiAnMScsIHRpdGxlOiAnVGVzdCBQb3N0IDEnLCBjb250ZW50OiAnQ29udGVudCAxJywgYXV0aG9yOiAnVXNlcjEnIH0sXG4gICAgICAgIHsgaWQ6ICcyJywgdGl0bGU6ICdUZXN0IFBvc3QgMicsIGNvbnRlbnQ6ICdDb250ZW50IDInLCBhdXRob3I6ICdVc2VyMicgfVxuICAgICAgXSlcbiAgICB9KSxcbiAgICBnZXRQb3N0OiBqZXN0LmZuKCksXG4gICAgY3JlYXRlUG9zdDogamVzdC5mbigpLFxuICAgIHVwZGF0ZVBvc3Q6IGplc3QuZm4oKSxcbiAgICBkZWxldGVQb3N0OiBqZXN0LmZuKCksXG4gIH0sXG4gIHRvcGljc1NlcnZpY2U6IHtcbiAgICBnZXRUb3BpY3M6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXSksXG4gICAgZ2V0VG9waWM6IGplc3QuZm4oKSxcbiAgICBjcmVhdGVUb3BpYzogamVzdC5mbigpLFxuICAgIHVwZGF0ZVRvcGljOiBqZXN0LmZuKCksXG4gICAgZGVsZXRlVG9waWM6IGplc3QuZm4oKSxcbiAgfSxcbn0pKTtcblxuLy8gTW9jayBBUEkgY2FsbHNcbmNvbnN0IG1vY2tGZXRjaCA9IGplc3QuZm4oKTtcbmdsb2JhbC5mZXRjaCA9IG1vY2tGZXRjaDtcblxuZGVzY3JpYmUoXCJGZWVkIFBhZ2UgSW50ZWdyYXRpb25cIiwgKCkgPT4ge1xuICBjb25zdCBtb2NrUG9zdHMgPSBbXG4gICAgY3JlYXRlTW9ja1Bvc3Qoe1xuICAgICAgaWQ6IFwiMVwiLFxuICAgICAgdGl0bGU6IFwiQUkgUmV2b2x1dGlvblwiLFxuICAgICAgY29udGVudDogXCJUaGUgZnV0dXJlIG9mIEFJIGlzIGhlcmVcIixcbiAgICAgIGF1dGhvcjogXCJhaV9leHBlcnRcIixcbiAgICB9KSxcbiAgICBjcmVhdGVNb2NrUG9zdCh7XG4gICAgICBpZDogXCIyXCIsXG4gICAgICB0aXRsZTogXCJNYWNoaW5lIExlYXJuaW5nIEJhc2ljc1wiLFxuICAgICAgY29udGVudDogXCJVbmRlcnN0YW5kaW5nIE1MIGZ1bmRhbWVudGFsc1wiLFxuICAgICAgYXV0aG9yOiBcIm1sX3RlYWNoZXJcIixcbiAgICB9KSxcbiAgXTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrRmV0Y2gubW9ja0NsZWFyKCk7XG4gICAgLy8gTW9jayBzdWNjZXNzZnVsIEFQSSByZXNwb25zZXNcbiAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICBwb3N0czogbW9ja1Bvc3RzLFxuICAgICAgICBoYXNNb3JlOiB0cnVlLFxuICAgICAgICB0b3RhbDogMTAsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoXCJyZW5kZXJzIGZlZWQgcGFnZSB3aXRoIHBvc3RzXCIsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8SW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICAgICA8RmVlZFBhZ2UgLz5cbiAgICAgIDwvSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICk7XG5cbiAgICAvLyBXYWl0IGZvciBwb3N0cyB0byBsb2FkXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29udGVudC1mZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGZlZWQgdGl0bGVcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkNvbnRlbnQgRmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoXCJkaXNwbGF5cyBsb2FkaW5nIHN0YXRlIGluaXRpYWxseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPEludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICAgICAgPEZlZWRQYWdlIC8+XG4gICAgICA8L0ludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICApO1xuXG4gICAgLy8gV2FpdCBmb3IgY29udGVudCB0byBsb2FkXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29udGVudC1mZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ29udGVudCBzaG91bGQgYmUgcmVuZGVyZWRcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkNvbnRlbnQgRmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoXCJoYW5kbGVzIGZpbHRlciBjaGFuZ2VzXCIsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8SW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICAgICA8RmVlZFBhZ2UgLz5cbiAgICAgIDwvSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoXCJmZWVkLWZpbHRlcnNcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBTaG91bGQgcmVuZGVyIGZpbHRlcnMgY29tcG9uZW50XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCJNb2NrIEZlZWQgRmlsdGVyc1wiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoXCJpbXBsZW1lbnRzIGluZmluaXRlIHNjcm9sbGluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgIHJlbmRlcihcbiAgICAgIDxJbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgICAgIDxGZWVkUGFnZSAvPlxuICAgICAgPC9JbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImNvbnRlbnQtZmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIE1vY2sgYWRkaXRpb25hbCBwb3N0cyBmb3IgbG9hZCBtb3JlXG4gICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBvazogdHJ1ZSxcbiAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgIHBvc3RzOiBbY3JlYXRlTW9ja1Bvc3QoeyBpZDogXCIzXCIsIHRpdGxlOiBcIk5ldyBQb3N0XCIgfSldLFxuICAgICAgICBoYXNNb3JlOiBmYWxzZSxcbiAgICAgICAgdG90YWw6IDMsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIC8vIENsaWNrIGxvYWQgbW9yZSBidXR0b25cbiAgICBjb25zdCBsb2FkTW9yZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2xvYWQgbW9yZS9pIH0pIHx8IHNjcmVlbi5nZXRCeVRleHQoL2xvYWQgbW9yZS9pKTtcbiAgICBhd2FpdCB1c2VyLmNsaWNrKGxvYWRNb3JlQnV0dG9uKTtcblxuICAgIC8vIFNob3VsZCBzaG93IGxvYWRpbmcgc3RhdGVcbiAgICBleHBlY3QobG9hZE1vcmVCdXR0b24pLnRvSGF2ZVRleHRDb250ZW50KFwiTG9hZGluZy4uLlwiKTtcblxuICAgIC8vIFdhaXQgZm9yIG5ldyBjb250ZW50XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIk5ldyBQb3N0XCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdChcInNob3dzIHJlY29tbWVuZGF0aW9ucyBzaWRlYmFyXCIsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8SW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICAgICA8RmVlZFBhZ2UgLz5cbiAgICAgIDwvSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoXCJjb250ZW50LWZlZWRcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBmb3IgZmVlZCBjb250ZW50XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCJDb250ZW50IEZlZWRcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KFwiaGFuZGxlcyByZWFsLXRpbWUgdXBkYXRlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPEludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICAgICAgPEZlZWRQYWdlIC8+XG4gICAgICA8L0ludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICApO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29udGVudC1mZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgdGhhdCByZWFsLXRpbWUgdXBkYXRlcyBob29rIGlzIGNhbGxlZFxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tVc2VSZWFsVGltZVVwZGF0ZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gIH0pO1xuXG4gIGl0KFwiaGFuZGxlcyBBUEkgZXJyb3JzIGdyYWNlZnVsbHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgIC8vIE1vY2sgQVBJIGVycm9yXG4gICAgbW9ja1Bvc3RzU2VydmljZS5nZXRQb3N0cy5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKFwiQVBJIEVycm9yXCIpKTtcblxuICAgIHJlbmRlcihcbiAgICAgIDxJbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgICAgIDxGZWVkUGFnZSAvPlxuICAgICAgPC9JbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgKTtcblxuICAgIC8vIFNob3VsZCBzdGlsbCByZW5kZXIgdGhlIHBhZ2Ugc3RydWN0dXJlXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkNvbnRlbnQgRmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoXCJzaG93cyBlbXB0eSBzdGF0ZSB3aGVuIG5vIHBvc3RzXCIsIGFzeW5jICgpID0+IHtcbiAgICAvLyBNb2NrIGVtcHR5IHBvc3RzIGZvciB0aGlzIHRlc3RcbiAgICBtb2NrUG9zdHNTZXJ2aWNlLmdldFBvc3RzLm1vY2tSZXNvbHZlZFZhbHVlT25jZShbXSk7XG4gICAgXG4gICAgcmVuZGVyKFxuICAgICAgPEludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICAgICAgPEZlZWRQYWdlIC8+XG4gICAgICA8L0ludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICApO1xuXG4gICAgLy8gU2hvdWxkIHJlbmRlciB0aGUgcGFnZSB3aXRoIGVtcHR5IHN0YXRlIGNvbXBvbmVudFxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImVtcHR5LWZlZWQtc3RhdGVcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuICB9KTtcblxuICBpdChcIm1haW50YWlucyBhY2Nlc3NpYmlsaXR5IHN0YW5kYXJkc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPEludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICAgICAgPEZlZWRQYWdlIC8+XG4gICAgICA8L0ludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICApO1xuXG4gICAgLy8gQ2hlY2sgZm9yIHByb3BlciBoZWFkaW5nIHN0cnVjdHVyZSAtIGxvb2sgZm9yIHRoZSBhY3R1YWwgaGVhZGluZ1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KFwiQ29udGVudCBGZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gV2FpdCBmb3IgY29udGVudCB0byBsb2FkXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29udGVudC1mZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgIGNvbnN0IGJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKFwiYnV0dG9uXCIpO1xuICAgIGlmIChidXR0b25zLmxlbmd0aCA+IDAgJiYgYnV0dG9uc1swXSkge1xuICAgICAgYnV0dG9uc1swXS5mb2N1cygpO1xuICAgICAgLy8gU2hvdWxkIGJlIGFibGUgdG8gZm9jdXMgZWxlbWVudHNcbiAgICAgIGV4cGVjdChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS50b0JlKGJ1dHRvbnNbMF0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaXQoXCJoYW5kbGVzIHJlc3BvbnNpdmUgbGF5b3V0XCIsICgpID0+IHtcbiAgICAvLyBNb2NrIGRpZmZlcmVudCB2aWV3cG9ydCBzaXplc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiaW5uZXJXaWR0aFwiLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiA3NjgsXG4gICAgfSk7XG5cbiAgICByZW5kZXIoXG4gICAgICA8SW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICAgICA8RmVlZFBhZ2UgLz5cbiAgICAgIDwvSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICk7XG5cbiAgICAvLyBDaGVjayBpZiBsYXlvdXQgcmVuZGVycyBwcm9wZXJseSBvbiBtb2JpbGVcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkNvbnRlbnQgRmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFZlcmlmeSByZXNwb25zaXZlIGJlaGF2aW9yIGV4aXN0c1xuICAgIGV4cGVjdCh3aW5kb3cuaW5uZXJXaWR0aCkudG9CZSg3NjgpO1xuICB9KTtcblxuICBpdChcInByZXNlcnZlcyBzY3JvbGwgcG9zaXRpb24gb24gbmF2aWdhdGlvblwiLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gTW9jayB3aW5kb3cuc2Nyb2xsVG8gYW5kIHNjcm9sbFlcbiAgICBjb25zdCBtb2NrU2Nyb2xsVG8gPSBqZXN0LmZuKCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJzY3JvbGxUb1wiLCB7XG4gICAgICB2YWx1ZTogbW9ja1Njcm9sbFRvLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJzY3JvbGxZXCIsIHtcbiAgICAgIHZhbHVlOiAwLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSk7XG5cbiAgICByZW5kZXIoPEZlZWRQYWdlIC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImNvbnRlbnQtZmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIFNpbXVsYXRlIHNjcm9sbCBkb3duXG4gICAgbW9ja1Njcm9sbFRvKDAsIDUwMCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJzY3JvbGxZXCIsIHsgdmFsdWU6IDUwMCwgd3JpdGFibGU6IHRydWUgfSk7XG5cbiAgICBleHBlY3QobW9ja1Njcm9sbFRvKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgwLCA1MDApO1xuICAgIGV4cGVjdCh3aW5kb3cuc2Nyb2xsWSkudG9CZSg1MDApO1xuXG4gICAgLy8gVmVyaWZ5IHNjcm9sbCByZXN0b3JhdGlvbiBjYXBhYmlsaXR5IGV4aXN0c1xuICAgIGV4cGVjdCh0eXBlb2Ygd2luZG93LnNjcm9sbFRvKS50b0JlKFwiZnVuY3Rpb25cIik7XG4gIH0pO1xuXG4gIGl0KFwiaW50ZWdyYXRlcyB3aXRoIHBlcmZvcm1hbmNlIG1vbml0b3JpbmdcIiwgYXN5bmMgKCkgPT4ge1xuICAgIC8vIE1vY2sgcGVyZm9ybWFuY2Uubm93IGZvciBjb25zaXN0ZW50IHRpbWluZ1xuICAgIGNvbnN0IG1vY2tQZXJmb3JtYW5jZU5vdyA9IGplc3Quc3B5T24ocGVyZm9ybWFuY2UsIFwibm93XCIpO1xuICAgIG1vY2tQZXJmb3JtYW5jZU5vdy5tb2NrUmV0dXJuVmFsdWVPbmNlKDApLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAwKTtcblxuICAgIHJlbmRlcig8RmVlZFBhZ2UgLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29udGVudC1mZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gVmVyaWZ5IHBlcmZvcm1hbmNlIG1vbml0b3JpbmcgaXMgYXZhaWxhYmxlXG4gICAgZXhwZWN0KHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cpLnRvQmUoXCJmdW5jdGlvblwiKTtcbiAgICBleHBlY3QobW9ja1BlcmZvcm1hbmNlTm93KS50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICBtb2NrUGVyZm9ybWFuY2VOb3cubW9ja1Jlc3RvcmUoKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIkxhenlDb250ZW50RmVlZCIsIml0ZW1zIiwib25Mb2FkTW9yZSIsImhhc01vcmUiLCJpc0xvYWRpbmdNb3JlIiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJtYXAiLCJpdGVtIiwiaWQiLCJoMyIsImRhdGEiLCJ0aXRsZSIsInAiLCJjb250ZW50Iiwic3BhbiIsImF1dGhvciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsIkxhenlQZXJzb25hbGl6ZWRSZWNvbW1lbmRhdGlvbnMiLCJsaW1pdCIsImNhdGVnb3JpZXMiLCJqb2luIiwidXNlUmVhbFRpbWVVcGRhdGVzIiwiaXNDb25uZWN0ZWQiLCJjb25uZWN0aW9uU3RhdHVzIiwibGFzdFVwZGF0ZSIsInN1YnNjcmliZSIsImZuIiwidW5zdWJzY3JpYmUiLCJ1c2VQZXJmb3JtYW5jZU1vbml0b3JpbmciLCJzdGFydE1lYXN1cmVtZW50IiwiZW5kTWVhc3VyZW1lbnQiLCJnZXRNZXRyaWNzIiwibW9ja1JldHVyblZhbHVlIiwiTG9hZGluZ1N0YXRlIiwiY2hpbGRyZW4iLCJpc0xvYWRpbmciLCJlcnJvciIsInNrZWxldG9uIiwiRW1wdHlGZWVkU3RhdGUiLCJvblJlZnJlc2giLCJoMiIsIkZlZWRGaWx0ZXJzIiwicG9zdHNTZXJ2aWNlIiwiZ2V0UG9zdHMiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldFBvc3QiLCJjcmVhdGVQb3N0IiwidXBkYXRlUG9zdCIsImRlbGV0ZVBvc3QiLCJ0b3BpY3NTZXJ2aWNlIiwiZ2V0VG9waWNzIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJnZXRUb3BpYyIsImNyZWF0ZVRvcGljIiwidXBkYXRlVG9waWMiLCJkZWxldGVUb3BpYyIsIm1vY2tVc2VSZWFsVGltZVVwZGF0ZXMiLCJtb2NrVXNlUGVyZm9ybWFuY2VNb25pdG9yaW5nIiwibW9ja1Bvc3RzU2VydmljZSIsIm1vY2tUb3BpY3NTZXJ2aWNlIiwibW9ja0ZldGNoIiwiZ2xvYmFsIiwiZmV0Y2giLCJkZXNjcmliZSIsIm1vY2tQb3N0cyIsImNyZWF0ZU1vY2tQb3N0IiwiYmVmb3JlRWFjaCIsIm1vY2tDbGVhciIsIm9rIiwianNvbiIsInBvc3RzIiwidG90YWwiLCJpdCIsInJlbmRlciIsIkludGVncmF0aW9uTW9ja1Byb3ZpZGVycyIsIkZlZWRQYWdlIiwid2FpdEZvciIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGVzdElkIiwidG9CZUluVGhlRG9jdW1lbnQiLCJnZXRCeVRleHQiLCJ1c2VyIiwidXNlckV2ZW50Iiwic2V0dXAiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJsb2FkTW9yZUJ1dHRvbiIsImdldEJ5Um9sZSIsIm5hbWUiLCJjbGljayIsInRvSGF2ZVRleHRDb250ZW50IiwidG9IYXZlQmVlbkNhbGxlZCIsInRpbWVvdXQiLCJtb2NrUmVqZWN0ZWRWYWx1ZU9uY2UiLCJFcnJvciIsImJ1dHRvbnMiLCJnZXRBbGxCeVJvbGUiLCJsZW5ndGgiLCJmb2N1cyIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsInRvQmUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwidmFsdWUiLCJpbm5lcldpZHRoIiwibW9ja1Njcm9sbFRvIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJzY3JvbGxZIiwic2Nyb2xsVG8iLCJtb2NrUGVyZm9ybWFuY2VOb3ciLCJzcHlPbiIsInBlcmZvcm1hbmNlIiwibW9ja1JldHVyblZhbHVlT25jZSIsIm5vdyIsIm1vY2tSZXN0b3JlIl0sIm1hcHBpbmdzIjoiO0FBS0EsMkJBQTJCO0FBQzNCQSxLQUFLQyxJQUFJLENBQUMsb0NBQW9DLElBQU8sQ0FBQTtRQUNuREMsaUJBQWlCLENBQUMsRUFDaEJDLFFBQVEsRUFB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