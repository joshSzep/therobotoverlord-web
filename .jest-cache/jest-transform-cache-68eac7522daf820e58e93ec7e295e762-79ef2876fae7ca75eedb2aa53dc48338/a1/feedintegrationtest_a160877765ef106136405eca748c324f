56423bf3667ade254bfd7bfcc4d60507
"use strict";
// Mock the lazy components
jest.mock("@/components/lazy/LazyComponents", ()=>({
        LazyContentFeed: ({ items = [], onLoadMore, hasMore, isLoadingMore })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "content-feed",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "feed-items",
                        children: items.map((item)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                "data-testid": `feed-item-${item.id}`,
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                        children: item.data?.title || item.title
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        children: item.data?.content || item.content
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                        children: [
                                            "By ",
                                            item.data?.author || item.author
                                        ]
                                    })
                                ]
                            }, item.id))
                    }),
                    hasMore && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onLoadMore,
                        disabled: isLoadingMore,
                        "data-testid": "load-more-button",
                        children: isLoadingMore ? "Loading..." : "Load More"
                    })
                ]
            }),
        LazyPersonalizedRecommendations: ({ limit, categories = [] })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "recommendations",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                        children: "Recommendations"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                        children: [
                            "Limit: ",
                            limit
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                        children: [
                            "Categories: ",
                            categories.join(", ")
                        ]
                    })
                ]
            })
    }));
jest.mock('@/hooks/useRealTimeUpdates', ()=>({
        useRealTimeUpdates: ()=>({
                isConnected: true,
                connectionStatus: 'connected',
                lastUpdate: null,
                subscribe: jest.fn(),
                unsubscribe: jest.fn()
            })
    }));
jest.mock('@/hooks/usePerformanceMonitoring', ()=>({
        usePerformanceMonitoring: ()=>({
                startMeasurement: jest.fn(),
                endMeasurement: jest.fn(),
                getMetrics: jest.fn().mockReturnValue({})
            })
    }));
// Mock other UI components
jest.mock("@/components/ui/LoadingSpinner", ()=>({
        LoadingState: ({ children, isLoading, error, skeleton })=>{
            if (isLoading) return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "loading-state",
                children: skeleton
            });
            if (error) return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "error-state",
                children: "Error loading feed"
            });
            return children;
        }
    }));
jest.mock("@/components/ui/EmptyState", ()=>({
        EmptyFeedState: ({ onRefresh })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "empty-feed-state",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                        children: "No posts yet"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        children: "Be the first to create a post!"
                    }),
                    onRefresh && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onRefresh,
                        "data-testid": "refresh-button",
                        children: "Refresh"
                    })
                ]
            })
    }));
jest.mock("@/components/feed/FeedFilters", ()=>({
        FeedFilters: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "feed-filters",
                children: "Mock Feed Filters"
            })
    }));
jest.mock("@/services", ()=>({
        postsService: {
            getPosts: jest.fn().mockImplementation(()=>{
                return Promise.resolve([
                    {
                        id: '1',
                        title: 'Test Post 1',
                        content: 'Content 1',
                        author: 'User1'
                    },
                    {
                        id: '2',
                        title: 'Test Post 2',
                        content: 'Content 2',
                        author: 'User2'
                    }
                ]);
            }),
            getPost: jest.fn(),
            createPost: jest.fn(),
            updatePost: jest.fn(),
            deletePost: jest.fn()
        },
        topicsService: {
            getTopics: jest.fn().mockResolvedValue([]),
            getTopic: jest.fn(),
            createTopic: jest.fn(),
            updateTopic: jest.fn(),
            deleteTopic: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _page = /*#__PURE__*/ _interop_require_default(require("../../app/feed/page"));
const _testutils = require("../utils/test-utils");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock the real-time updates hook
const mockUseRealTimeUpdates = jest.fn().mockReturnValue({
    isConnected: true,
    connectionStatus: 'connected',
    lastUpdate: null,
    subscribe: jest.fn(),
    unsubscribe: jest.fn()
});
// Mock performance monitoring
const mockUsePerformanceMonitoring = jest.fn().mockReturnValue({
    startMeasurement: jest.fn(),
    endMeasurement: jest.fn(),
    getMetrics: jest.fn().mockReturnValue({})
});
// Mock services with different behaviors for different tests
const mockPostsService = {
    getPosts: jest.fn().mockImplementation(()=>{
        // Default to returning mock posts, but can be overridden per test
        return Promise.resolve([
            {
                id: '1',
                title: 'Test Post 1',
                content: 'Content 1',
                author: 'User1'
            },
            {
                id: '2',
                title: 'Test Post 2',
                content: 'Content 2',
                author: 'User2'
            }
        ]);
    }),
    getPost: jest.fn(),
    createPost: jest.fn(),
    updatePost: jest.fn(),
    deletePost: jest.fn()
};
const mockTopicsService = {
    getTopics: jest.fn().mockResolvedValue([]),
    getTopic: jest.fn(),
    createTopic: jest.fn(),
    updateTopic: jest.fn(),
    deleteTopic: jest.fn()
};
// Mock API calls
const mockFetch = jest.fn();
global.fetch = mockFetch;
describe("Feed Page Integration", ()=>{
    const mockPosts = [
        (0, _testutils.createMockPost)({
            id: "1",
            title: "AI Revolution",
            content: "The future of AI is here",
            author: "ai_expert"
        }),
        (0, _testutils.createMockPost)({
            id: "2",
            title: "Machine Learning Basics",
            content: "Understanding ML fundamentals",
            author: "ml_teacher"
        })
    ];
    beforeEach(()=>{
        mockFetch.mockClear();
        // Mock successful API responses
        mockFetch.mockResolvedValue({
            ok: true,
            json: async ()=>({
                    posts: mockPosts,
                    hasMore: true,
                    total: 10
                })
        });
    });
    it("renders feed page with posts", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Wait for posts to load
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Check for feed title
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
    });
    it("displays loading state initially", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Wait for content to load
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Content should be rendered
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
    });
    it("handles filter changes", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("feed-filters")).toBeInTheDocument();
        });
        // Should render filters component
        expect(_react.screen.getByText("Mock Feed Filters")).toBeInTheDocument();
    });
    it("implements infinite scrolling", async ()=>{
        const user = _userevent.default.setup();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Mock additional posts for load more
        mockFetch.mockResolvedValueOnce({
            ok: true,
            json: async ()=>({
                    posts: [
                        (0, _testutils.createMockPost)({
                            id: "3",
                            title: "New Post"
                        })
                    ],
                    hasMore: false,
                    total: 3
                })
        });
        // Click load more button
        const loadMoreButton = _react.screen.getByRole('button', {
            name: /load more/i
        }) || _react.screen.getByText(/load more/i);
        await user.click(loadMoreButton);
        // Should show loading state
        expect(loadMoreButton).toHaveTextContent("Loading...");
        // Wait for new content
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText("New Post")).toBeInTheDocument();
        });
    });
    it("shows recommendations sidebar", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Check for feed content
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
    });
    it("handles real-time updates", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Check that real-time updates hook is called
        await (0, _react.waitFor)(()=>{
            expect(mockUseRealTimeUpdates).toHaveBeenCalled();
        }, {
            timeout: 3000
        });
    });
    it("handles API errors gracefully", async ()=>{
        // Mock API error
        mockPostsService.getPosts.mockRejectedValueOnce(new Error("API Error"));
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Should still render the page structure
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
        });
    });
    it("shows empty state when no posts", async ()=>{
        // Mock empty posts for this test
        mockPostsService.getPosts.mockResolvedValueOnce([]);
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Should render the page with empty state component
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("empty-feed-state")).toBeInTheDocument();
        }, {
            timeout: 3000
        });
    });
    it("maintains accessibility standards", async ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Check for proper heading structure - look for the actual heading
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
        // Wait for content to load
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Check keyboard navigation
        const buttons = _react.screen.getAllByRole("button");
        if (buttons.length > 0 && buttons[0]) {
            buttons[0].focus();
            // Should be able to focus elements
            expect(document.activeElement).toBe(buttons[0]);
        }
    });
    it("handles responsive layout", ()=>{
        // Mock different viewport sizes
        Object.defineProperty(window, "innerWidth", {
            writable: true,
            configurable: true,
            value: 768
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        // Check if layout renders properly on mobile
        expect(_react.screen.getByText("Content Feed")).toBeInTheDocument();
        // Verify responsive behavior exists
        expect(window.innerWidth).toBe(768);
    });
    it("preserves scroll position on navigation", async ()=>{
        // Mock window.scrollTo and scrollY
        const mockScrollTo = jest.fn();
        Object.defineProperty(window, "scrollTo", {
            value: mockScrollTo,
            writable: true,
            configurable: true
        });
        Object.defineProperty(window, "scrollY", {
            value: 0,
            writable: true,
            configurable: true
        });
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Simulate scroll down
        mockScrollTo(0, 500);
        Object.defineProperty(window, "scrollY", {
            value: 500,
            writable: true
        });
        expect(mockScrollTo).toHaveBeenCalledWith(0, 500);
        expect(window.scrollY).toBe(500);
        // Verify scroll restoration capability exists
        expect(typeof window.scrollTo).toBe("function");
    });
    it("integrates with performance monitoring", async ()=>{
        // Mock performance.now for consistent timing
        const mockPerformanceNow = jest.spyOn(performance, "now");
        mockPerformanceNow.mockReturnValueOnce(0).mockReturnValueOnce(100);
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_testutils.IntegrationMockProviders, {
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {})
        }));
        await (0, _react.waitFor)(()=>{
            expect(_react.screen.getByTestId("content-feed")).toBeInTheDocument();
        });
        // Verify performance monitoring is available
        expect(typeof performance.now).toBe("function");
        expect(mockPerformanceNow).toHaveBeenCalled();
        mockPerformanceNow.mockRestore();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb3Noc3plcC9jb2RlL3RoZXJvYm90b3ZlcmxvcmQtbW9uby90aGVyb2JvdG92ZXJsb3JkLXdlYi9zcmMvX190ZXN0c19fL3BhZ2VzL2ZlZWQuaW50ZWdyYXRpb24udGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIHdhaXRGb3IsIGZpcmVFdmVudCB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0XCI7XG5pbXBvcnQgdXNlckV2ZW50IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnRcIjtcbmltcG9ydCBGZWVkUGFnZSBmcm9tIFwiQC9hcHAvZmVlZC9wYWdlXCI7XG5pbXBvcnQgeyBjcmVhdGVNb2NrUG9zdCwgSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzIH0gZnJvbSBcIi4uL3V0aWxzL3Rlc3QtdXRpbHNcIjtcblxuLy8gTW9jayB0aGUgbGF6eSBjb21wb25lbnRzXG5qZXN0Lm1vY2soXCJAL2NvbXBvbmVudHMvbGF6eS9MYXp5Q29tcG9uZW50c1wiLCAoKSA9PiAoe1xuICBMYXp5Q29udGVudEZlZWQ6ICh7XG4gICAgaXRlbXMgPSBbXSxcbiAgICBvbkxvYWRNb3JlLFxuICAgIGhhc01vcmUsXG4gICAgaXNMb2FkaW5nTW9yZSxcbiAgfToge1xuICAgIGl0ZW1zPzogQXJyYXk8e1xuICAgICAgaWQ6IHN0cmluZztcbiAgICAgIGRhdGE/OiB7IHRpdGxlPzogc3RyaW5nOyBjb250ZW50Pzogc3RyaW5nOyBhdXRob3I/OiBzdHJpbmcgfTtcbiAgICAgIHRpdGxlPzogc3RyaW5nO1xuICAgICAgY29udGVudD86IHN0cmluZztcbiAgICAgIGF1dGhvcj86IHN0cmluZztcbiAgICB9PjtcbiAgICBvbkxvYWRNb3JlPzogKCkgPT4gdm9pZDtcbiAgICBoYXNNb3JlPzogYm9vbGVhbjtcbiAgICBpc0xvYWRpbmdNb3JlPzogYm9vbGVhbjtcbiAgfSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJjb250ZW50LWZlZWRcIj5cbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJmZWVkLWl0ZW1zXCI+XG4gICAgICAgIHtpdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17aXRlbS5pZH0gZGF0YS10ZXN0aWQ9e2BmZWVkLWl0ZW0tJHtpdGVtLmlkfWB9PlxuICAgICAgICAgICAgPGgzPntpdGVtLmRhdGE/LnRpdGxlIHx8IGl0ZW0udGl0bGV9PC9oMz5cbiAgICAgICAgICAgIDxwPntpdGVtLmRhdGE/LmNvbnRlbnQgfHwgaXRlbS5jb250ZW50fTwvcD5cbiAgICAgICAgICAgIDxzcGFuPkJ5IHtpdGVtLmRhdGE/LmF1dGhvciB8fCBpdGVtLmF1dGhvcn08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgICB7aGFzTW9yZSAmJiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkxvYWRNb3JlfVxuICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmdNb3JlfVxuICAgICAgICAgIGRhdGEtdGVzdGlkPVwibG9hZC1tb3JlLWJ1dHRvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7aXNMb2FkaW5nTW9yZSA/IFwiTG9hZGluZy4uLlwiIDogXCJMb2FkIE1vcmVcIn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApLFxuICBMYXp5UGVyc29uYWxpemVkUmVjb21tZW5kYXRpb25zOiAoe1xuICAgIGxpbWl0LFxuICAgIGNhdGVnb3JpZXMgPSBbXSxcbiAgfToge1xuICAgIGxpbWl0PzogbnVtYmVyO1xuICAgIGNhdGVnb3JpZXM/OiBzdHJpbmdbXTtcbiAgfSkgPT4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJyZWNvbW1lbmRhdGlvbnNcIj5cbiAgICAgIDxoMz5SZWNvbW1lbmRhdGlvbnM8L2gzPlxuICAgICAgPHA+TGltaXQ6IHtsaW1pdH08L3A+XG4gICAgICA8cD5DYXRlZ29yaWVzOiB7Y2F0ZWdvcmllcy5qb2luKFwiLCBcIil9PC9wPlxuICAgIDwvZGl2PlxuICApLFxufSkpO1xuXG4vLyBNb2NrIHRoZSByZWFsLXRpbWUgdXBkYXRlcyBob29rXG5jb25zdCBtb2NrVXNlUmVhbFRpbWVVcGRhdGVzID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gIGlzQ29ubmVjdGVkOiB0cnVlLFxuICBjb25uZWN0aW9uU3RhdHVzOiAnY29ubmVjdGVkJyxcbiAgbGFzdFVwZGF0ZTogbnVsbCxcbiAgc3Vic2NyaWJlOiBqZXN0LmZuKCksXG4gIHVuc3Vic2NyaWJlOiBqZXN0LmZuKCksXG59KVxuXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlUmVhbFRpbWVVcGRhdGVzJywgKCkgPT4gKHtcbiAgdXNlUmVhbFRpbWVVcGRhdGVzOiAoKSA9PiAoe1xuICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgIGNvbm5lY3Rpb25TdGF0dXM6ICdjb25uZWN0ZWQnLFxuICAgIGxhc3RVcGRhdGU6IG51bGwsXG4gICAgc3Vic2NyaWJlOiBqZXN0LmZuKCksXG4gICAgdW5zdWJzY3JpYmU6IGplc3QuZm4oKSxcbiAgfSksXG59KSlcblxuLy8gTW9jayBwZXJmb3JtYW5jZSBtb25pdG9yaW5nXG5jb25zdCBtb2NrVXNlUGVyZm9ybWFuY2VNb25pdG9yaW5nID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gIHN0YXJ0TWVhc3VyZW1lbnQ6IGplc3QuZm4oKSxcbiAgZW5kTWVhc3VyZW1lbnQ6IGplc3QuZm4oKSxcbiAgZ2V0TWV0cmljczogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7fSksXG59KVxuXG5qZXN0Lm1vY2soJ0AvaG9va3MvdXNlUGVyZm9ybWFuY2VNb25pdG9yaW5nJywgKCkgPT4gKHtcbiAgdXNlUGVyZm9ybWFuY2VNb25pdG9yaW5nOiAoKSA9PiAoe1xuICAgIHN0YXJ0TWVhc3VyZW1lbnQ6IGplc3QuZm4oKSxcbiAgICBlbmRNZWFzdXJlbWVudDogamVzdC5mbigpLFxuICAgIGdldE1ldHJpY3M6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe30pLFxuICB9KSxcbn0pKTtcblxuLy8gTW9jayBvdGhlciBVSSBjb21wb25lbnRzXG5qZXN0Lm1vY2soXCJAL2NvbXBvbmVudHMvdWkvTG9hZGluZ1NwaW5uZXJcIiwgKCkgPT4gKHtcbiAgTG9hZGluZ1N0YXRlOiAoe1xuICAgIGNoaWxkcmVuLFxuICAgIGlzTG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBza2VsZXRvbixcbiAgfToge1xuICAgIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGU7XG4gICAgaXNMb2FkaW5nPzogYm9vbGVhbjtcbiAgICBlcnJvcj86IHN0cmluZyB8IG51bGw7XG4gICAgc2tlbGV0b24/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIH0pID0+IHtcbiAgICBpZiAoaXNMb2FkaW5nKSByZXR1cm4gPGRpdiBkYXRhLXRlc3RpZD1cImxvYWRpbmctc3RhdGVcIj57c2tlbGV0b259PC9kaXY+O1xuICAgIGlmIChlcnJvcikgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJlcnJvci1zdGF0ZVwiPkVycm9yIGxvYWRpbmcgZmVlZDwvZGl2PjtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH0sXG59KSk7XG5cbmplc3QubW9jayhcIkAvY29tcG9uZW50cy91aS9FbXB0eVN0YXRlXCIsICgpID0+ICh7XG4gIEVtcHR5RmVlZFN0YXRlOiAoeyBvblJlZnJlc2ggfTogeyBvblJlZnJlc2g/OiAoKSA9PiB2b2lkIH0pID0+IChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiZW1wdHktZmVlZC1zdGF0ZVwiPlxuICAgICAgPGgyPk5vIHBvc3RzIHlldDwvaDI+XG4gICAgICA8cD5CZSB0aGUgZmlyc3QgdG8gY3JlYXRlIGEgcG9zdCE8L3A+XG4gICAgICB7b25SZWZyZXNoICYmIChcbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvblJlZnJlc2h9IGRhdGEtdGVzdGlkPVwicmVmcmVzaC1idXR0b25cIj5cbiAgICAgICAgICBSZWZyZXNoXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKSxcbn0pKTtcblxuamVzdC5tb2NrKFwiQC9jb21wb25lbnRzL2ZlZWQvRmVlZEZpbHRlcnNcIiwgKCkgPT4gKHtcbiAgRmVlZEZpbHRlcnM6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJmZWVkLWZpbHRlcnNcIj5Nb2NrIEZlZWQgRmlsdGVyczwvZGl2Pixcbn0pKTtcblxuLy8gTW9jayBzZXJ2aWNlcyB3aXRoIGRpZmZlcmVudCBiZWhhdmlvcnMgZm9yIGRpZmZlcmVudCB0ZXN0c1xuY29uc3QgbW9ja1Bvc3RzU2VydmljZSA9IHtcbiAgZ2V0UG9zdHM6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge1xuICAgIC8vIERlZmF1bHQgdG8gcmV0dXJuaW5nIG1vY2sgcG9zdHMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBwZXIgdGVzdFxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1xuICAgICAgeyBpZDogJzEnLCB0aXRsZTogJ1Rlc3QgUG9zdCAxJywgY29udGVudDogJ0NvbnRlbnQgMScsIGF1dGhvcjogJ1VzZXIxJyB9LFxuICAgICAgeyBpZDogJzInLCB0aXRsZTogJ1Rlc3QgUG9zdCAyJywgY29udGVudDogJ0NvbnRlbnQgMicsIGF1dGhvcjogJ1VzZXIyJyB9XG4gICAgXSlcbiAgfSksXG4gIGdldFBvc3Q6IGplc3QuZm4oKSxcbiAgY3JlYXRlUG9zdDogamVzdC5mbigpLFxuICB1cGRhdGVQb3N0OiBqZXN0LmZuKCksXG4gIGRlbGV0ZVBvc3Q6IGplc3QuZm4oKSxcbn07XG5cbmNvbnN0IG1vY2tUb3BpY3NTZXJ2aWNlID0ge1xuICBnZXRUb3BpY3M6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXSksXG4gIGdldFRvcGljOiBqZXN0LmZuKCksXG4gIGNyZWF0ZVRvcGljOiBqZXN0LmZuKCksXG4gIHVwZGF0ZVRvcGljOiBqZXN0LmZuKCksXG4gIGRlbGV0ZVRvcGljOiBqZXN0LmZuKCksXG59O1xuXG5qZXN0Lm1vY2soXCJAL3NlcnZpY2VzXCIsICgpID0+ICh7XG4gIHBvc3RzU2VydmljZToge1xuICAgIGdldFBvc3RzOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1xuICAgICAgICB7IGlkOiAnMScsIHRpdGxlOiAnVGVzdCBQb3N0IDEnLCBjb250ZW50OiAnQ29udGVudCAxJywgYXV0aG9yOiAnVXNlcjEnIH0sXG4gICAgICAgIHsgaWQ6ICcyJywgdGl0bGU6ICdUZXN0IFBvc3QgMicsIGNvbnRlbnQ6ICdDb250ZW50IDInLCBhdXRob3I6ICdVc2VyMicgfVxuICAgICAgXSlcbiAgICB9KSxcbiAgICBnZXRQb3N0OiBqZXN0LmZuKCksXG4gICAgY3JlYXRlUG9zdDogamVzdC5mbigpLFxuICAgIHVwZGF0ZVBvc3Q6IGplc3QuZm4oKSxcbiAgICBkZWxldGVQb3N0OiBqZXN0LmZuKCksXG4gIH0sXG4gIHRvcGljc1NlcnZpY2U6IHtcbiAgICBnZXRUb3BpY3M6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXSksXG4gICAgZ2V0VG9waWM6IGplc3QuZm4oKSxcbiAgICBjcmVhdGVUb3BpYzogamVzdC5mbigpLFxuICAgIHVwZGF0ZVRvcGljOiBqZXN0LmZuKCksXG4gICAgZGVsZXRlVG9waWM6IGplc3QuZm4oKSxcbiAgfSxcbn0pKTtcblxuLy8gTW9jayBBUEkgY2FsbHNcbmNvbnN0IG1vY2tGZXRjaCA9IGplc3QuZm4oKTtcbmdsb2JhbC5mZXRjaCA9IG1vY2tGZXRjaDtcblxuZGVzY3JpYmUoXCJGZWVkIFBhZ2UgSW50ZWdyYXRpb25cIiwgKCkgPT4ge1xuICBjb25zdCBtb2NrUG9zdHMgPSBbXG4gICAgY3JlYXRlTW9ja1Bvc3Qoe1xuICAgICAgaWQ6IFwiMVwiLFxuICAgICAgdGl0bGU6IFwiQUkgUmV2b2x1dGlvblwiLFxuICAgICAgY29udGVudDogXCJUaGUgZnV0dXJlIG9mIEFJIGlzIGhlcmVcIixcbiAgICAgIGF1dGhvcjogXCJhaV9leHBlcnRcIixcbiAgICB9KSxcbiAgICBjcmVhdGVNb2NrUG9zdCh7XG4gICAgICBpZDogXCIyXCIsXG4gICAgICB0aXRsZTogXCJNYWNoaW5lIExlYXJuaW5nIEJhc2ljc1wiLFxuICAgICAgY29udGVudDogXCJVbmRlcnN0YW5kaW5nIE1MIGZ1bmRhbWVudGFsc1wiLFxuICAgICAgYXV0aG9yOiBcIm1sX3RlYWNoZXJcIixcbiAgICB9KSxcbiAgXTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBtb2NrRmV0Y2gubW9ja0NsZWFyKCk7XG4gICAgLy8gTW9jayBzdWNjZXNzZnVsIEFQSSByZXNwb25zZXNcbiAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICBwb3N0czogbW9ja1Bvc3RzLFxuICAgICAgICBoYXNNb3JlOiB0cnVlLFxuICAgICAgICB0b3RhbDogMTAsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoXCJyZW5kZXJzIGZlZWQgcGFnZSB3aXRoIHBvc3RzXCIsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8SW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICAgICA8RmVlZFBhZ2UgLz5cbiAgICAgIDwvSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICk7XG5cbiAgICAvLyBXYWl0IGZvciBwb3N0cyB0byBsb2FkXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29udGVudC1mZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGZlZWQgdGl0bGVcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkNvbnRlbnQgRmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoXCJkaXNwbGF5cyBsb2FkaW5nIHN0YXRlIGluaXRpYWxseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPEludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICAgICAgPEZlZWRQYWdlIC8+XG4gICAgICA8L0ludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICApO1xuXG4gICAgLy8gV2FpdCBmb3IgY29udGVudCB0byBsb2FkXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29udGVudC1mZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ29udGVudCBzaG91bGQgYmUgcmVuZGVyZWRcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkNvbnRlbnQgRmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoXCJoYW5kbGVzIGZpbHRlciBjaGFuZ2VzXCIsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8SW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICAgICA8RmVlZFBhZ2UgLz5cbiAgICAgIDwvSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoXCJmZWVkLWZpbHRlcnNcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBTaG91bGQgcmVuZGVyIGZpbHRlcnMgY29tcG9uZW50XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCJNb2NrIEZlZWQgRmlsdGVyc1wiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoXCJpbXBsZW1lbnRzIGluZmluaXRlIHNjcm9sbGluZ1wiLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgIHJlbmRlcihcbiAgICAgIDxJbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgICAgIDxGZWVkUGFnZSAvPlxuICAgICAgPC9JbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImNvbnRlbnQtZmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIE1vY2sgYWRkaXRpb25hbCBwb3N0cyBmb3IgbG9hZCBtb3JlXG4gICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICBvazogdHJ1ZSxcbiAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgIHBvc3RzOiBbY3JlYXRlTW9ja1Bvc3QoeyBpZDogXCIzXCIsIHRpdGxlOiBcIk5ldyBQb3N0XCIgfSldLFxuICAgICAgICBoYXNNb3JlOiBmYWxzZSxcbiAgICAgICAgdG90YWw6IDMsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIC8vIENsaWNrIGxvYWQgbW9yZSBidXR0b25cbiAgICBjb25zdCBsb2FkTW9yZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL2xvYWQgbW9yZS9pIH0pIHx8IHNjcmVlbi5nZXRCeVRleHQoL2xvYWQgbW9yZS9pKTtcbiAgICBhd2FpdCB1c2VyLmNsaWNrKGxvYWRNb3JlQnV0dG9uKTtcblxuICAgIC8vIFNob3VsZCBzaG93IGxvYWRpbmcgc3RhdGVcbiAgICBleHBlY3QobG9hZE1vcmVCdXR0b24pLnRvSGF2ZVRleHRDb250ZW50KFwiTG9hZGluZy4uLlwiKTtcblxuICAgIC8vIFdhaXQgZm9yIG5ldyBjb250ZW50XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIk5ldyBQb3N0XCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdChcInNob3dzIHJlY29tbWVuZGF0aW9ucyBzaWRlYmFyXCIsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8SW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICAgICA8RmVlZFBhZ2UgLz5cbiAgICAgIDwvSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoXCJjb250ZW50LWZlZWRcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBmb3IgZmVlZCBjb250ZW50XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoXCJDb250ZW50IEZlZWRcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KFwiaGFuZGxlcyByZWFsLXRpbWUgdXBkYXRlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPEludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICAgICAgPEZlZWRQYWdlIC8+XG4gICAgICA8L0ludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICApO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29udGVudC1mZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgdGhhdCByZWFsLXRpbWUgdXBkYXRlcyBob29rIGlzIGNhbGxlZFxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tVc2VSZWFsVGltZVVwZGF0ZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9LCB7IHRpbWVvdXQ6IDMwMDAgfSk7XG4gIH0pO1xuXG4gIGl0KFwiaGFuZGxlcyBBUEkgZXJyb3JzIGdyYWNlZnVsbHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgIC8vIE1vY2sgQVBJIGVycm9yXG4gICAgbW9ja1Bvc3RzU2VydmljZS5nZXRQb3N0cy5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKFwiQVBJIEVycm9yXCIpKTtcblxuICAgIHJlbmRlcihcbiAgICAgIDxJbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgICAgIDxGZWVkUGFnZSAvPlxuICAgICAgPC9JbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgKTtcblxuICAgIC8vIFNob3VsZCBzdGlsbCByZW5kZXIgdGhlIHBhZ2Ugc3RydWN0dXJlXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkNvbnRlbnQgRmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoXCJzaG93cyBlbXB0eSBzdGF0ZSB3aGVuIG5vIHBvc3RzXCIsIGFzeW5jICgpID0+IHtcbiAgICAvLyBNb2NrIGVtcHR5IHBvc3RzIGZvciB0aGlzIHRlc3RcbiAgICBtb2NrUG9zdHNTZXJ2aWNlLmdldFBvc3RzLm1vY2tSZXNvbHZlZFZhbHVlT25jZShbXSk7XG4gICAgXG4gICAgcmVuZGVyKFxuICAgICAgPEludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICAgICAgPEZlZWRQYWdlIC8+XG4gICAgICA8L0ludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICApO1xuXG4gICAgLy8gU2hvdWxkIHJlbmRlciB0aGUgcGFnZSB3aXRoIGVtcHR5IHN0YXRlIGNvbXBvbmVudFxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImVtcHR5LWZlZWQtc3RhdGVcIikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSwgeyB0aW1lb3V0OiAzMDAwIH0pO1xuICB9KTtcblxuICBpdChcIm1haW50YWlucyBhY2Nlc3NpYmlsaXR5IHN0YW5kYXJkc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPEludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICAgICAgPEZlZWRQYWdlIC8+XG4gICAgICA8L0ludGVncmF0aW9uTW9ja1Byb3ZpZGVycz5cbiAgICApO1xuXG4gICAgLy8gQ2hlY2sgZm9yIHByb3BlciBoZWFkaW5nIHN0cnVjdHVyZSAtIGxvb2sgZm9yIHRoZSBhY3R1YWwgaGVhZGluZ1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KFwiQ29udGVudCBGZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgLy8gV2FpdCBmb3IgY29udGVudCB0byBsb2FkXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFwiY29udGVudC1mZWVkXCIpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sga2V5Ym9hcmQgbmF2aWdhdGlvblxuICAgIGNvbnN0IGJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKFwiYnV0dG9uXCIpO1xuICAgIGlmIChidXR0b25zLmxlbmd0aCA+IDAgJiYgYnV0dG9uc1swXSkge1xuICAgICAgYnV0dG9uc1swXS5mb2N1cygpO1xuICAgICAgLy8gU2hvdWxkIGJlIGFibGUgdG8gZm9jdXMgZWxlbWVudHNcbiAgICAgIGV4cGVjdChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS50b0JlKGJ1dHRvbnNbMF0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaXQoXCJoYW5kbGVzIHJlc3BvbnNpdmUgbGF5b3V0XCIsICgpID0+IHtcbiAgICAvLyBNb2NrIGRpZmZlcmVudCB2aWV3cG9ydCBzaXplc1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csIFwiaW5uZXJXaWR0aFwiLCB7XG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiA3NjgsXG4gICAgfSk7XG5cbiAgICByZW5kZXIoXG4gICAgICA8SW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICAgICA8RmVlZFBhZ2UgLz5cbiAgICAgIDwvSW50ZWdyYXRpb25Nb2NrUHJvdmlkZXJzPlxuICAgICk7XG5cbiAgICAvLyBDaGVjayBpZiBsYXlvdXQgcmVuZGVycyBwcm9wZXJseSBvbiBtb2JpbGVcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dChcIkNvbnRlbnQgRmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgIC8vIFZlcmlmeSByZXNwb25zaXZlIGJlaGF2aW9yIGV4aXN0c1xuICAgIGV4cGVjdCh3aW5kb3cuaW5uZXJXaWR0aCkudG9CZSg3NjgpO1xuICB9KTtcblxuICBpdChcInByZXNlcnZlcyBzY3JvbGwgcG9zaXRpb24gb24gbmF2aWdhdGlvblwiLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gTW9jayB3aW5kb3cuc2Nyb2xsVG8gYW5kIHNjcm9sbFlcbiAgICBjb25zdCBtb2NrU2Nyb2xsVG8gPSBqZXN0LmZuKCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJzY3JvbGxUb1wiLCB7XG4gICAgICB2YWx1ZTogbW9ja1Njcm9sbFRvLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCBcInNjcm9sbFlcIiwge1xuICAgICAgdmFsdWU6IDAsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHJlbmRlcihcbiAgICAgIDxJbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgICAgIDxGZWVkUGFnZSAvPlxuICAgICAgPC9JbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImNvbnRlbnQtZmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIFNpbXVsYXRlIHNjcm9sbCBkb3duXG4gICAgbW9ja1Njcm9sbFRvKDAsIDUwMCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgXCJzY3JvbGxZXCIsIHsgdmFsdWU6IDUwMCwgd3JpdGFibGU6IHRydWUgfSk7XG5cbiAgICBleHBlY3QobW9ja1Njcm9sbFRvKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgwLCA1MDApO1xuICAgIGV4cGVjdCh3aW5kb3cuc2Nyb2xsWSkudG9CZSg1MDApO1xuXG4gICAgLy8gVmVyaWZ5IHNjcm9sbCByZXN0b3JhdGlvbiBjYXBhYmlsaXR5IGV4aXN0c1xuICAgIGV4cGVjdCh0eXBlb2Ygd2luZG93LnNjcm9sbFRvKS50b0JlKFwiZnVuY3Rpb25cIik7XG4gIH0pO1xuXG4gIGl0KFwiaW50ZWdyYXRlcyB3aXRoIHBlcmZvcm1hbmNlIG1vbml0b3JpbmdcIiwgYXN5bmMgKCkgPT4ge1xuICAgIC8vIE1vY2sgcGVyZm9ybWFuY2Uubm93IGZvciBjb25zaXN0ZW50IHRpbWluZ1xuICAgIGNvbnN0IG1vY2tQZXJmb3JtYW5jZU5vdyA9IGplc3Quc3B5T24ocGVyZm9ybWFuY2UsIFwibm93XCIpO1xuICAgIG1vY2tQZXJmb3JtYW5jZU5vdy5tb2NrUmV0dXJuVmFsdWVPbmNlKDApLm1vY2tSZXR1cm5WYWx1ZU9uY2UoMTAwKTtcblxuICAgIHJlbmRlcihcbiAgICAgIDxJbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgICAgIDxGZWVkUGFnZSAvPlxuICAgICAgPC9JbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnM+XG4gICAgKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChcImNvbnRlbnQtZmVlZFwiKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIC8vIFZlcmlmeSBwZXJmb3JtYW5jZSBtb25pdG9yaW5nIGlzIGF2YWlsYWJsZVxuICAgIGV4cGVjdCh0eXBlb2YgcGVyZm9ybWFuY2Uubm93KS50b0JlKFwiZnVuY3Rpb25cIik7XG4gICAgZXhwZWN0KG1vY2tQZXJmb3JtYW5jZU5vdykudG9IYXZlQmVlbkNhbGxlZCgpO1xuXG4gICAgbW9ja1BlcmZvcm1hbmNlTm93Lm1vY2tSZXN0b3JlKCk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJMYXp5Q29udGVudEZlZWQiLCJpdGVtcyIsIm9uTG9hZE1vcmUiLCJoYXNNb3JlIiwiaXNMb2FkaW5nTW9yZSIsImRpdiIsImRhdGEtdGVzdGlkIiwibWFwIiwiaXRlbSIsImlkIiwiaDMiLCJkYXRhIiwidGl0bGUiLCJwIiwiY29udGVudCIsInNwYW4iLCJhdXRob3IiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJMYXp5UGVyc29uYWxpemVkUmVjb21tZW5kYXRpb25zIiwibGltaXQiLCJjYXRlZ29yaWVzIiwiam9pbiIsInVzZVJlYWxUaW1lVXBkYXRlcyIsImlzQ29ubmVjdGVkIiwiY29ubmVjdGlvblN0YXR1cyIsImxhc3RVcGRhdGUiLCJzdWJzY3JpYmUiLCJmbiIsInVuc3Vic2NyaWJlIiwidXNlUGVyZm9ybWFuY2VNb25pdG9yaW5nIiwic3RhcnRNZWFzdXJlbWVudCIsImVuZE1lYXN1cmVtZW50IiwiZ2V0TWV0cmljcyIsIm1vY2tSZXR1cm5WYWx1ZSIsIkxvYWRpbmdTdGF0ZSIsImNoaWxkcmVuIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJza2VsZXRvbiIsIkVtcHR5RmVlZFN0YXRlIiwib25SZWZyZXNoIiwiaDIiLCJGZWVkRmlsdGVycyIsInBvc3RzU2VydmljZSIsImdldFBvc3RzIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRQb3N0IiwiY3JlYXRlUG9zdCIsInVwZGF0ZVBvc3QiLCJkZWxldGVQb3N0IiwidG9waWNzU2VydmljZSIsImdldFRvcGljcyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZ2V0VG9waWMiLCJjcmVhdGVUb3BpYyIsInVwZGF0ZVRvcGljIiwiZGVsZXRlVG9waWMiLCJtb2NrVXNlUmVhbFRpbWVVcGRhdGVzIiwibW9ja1VzZVBlcmZvcm1hbmNlTW9uaXRvcmluZyIsIm1vY2tQb3N0c1NlcnZpY2UiLCJtb2NrVG9waWNzU2VydmljZSIsIm1vY2tGZXRjaCIsImdsb2JhbCIsImZldGNoIiwiZGVzY3JpYmUiLCJtb2NrUG9zdHMiLCJjcmVhdGVNb2NrUG9zdCIsImJlZm9yZUVhY2giLCJtb2NrQ2xlYXIiLCJvayIsImpzb24iLCJwb3N0cyIsInRvdGFsIiwiaXQiLCJyZW5kZXIiLCJJbnRlZ3JhdGlvbk1vY2tQcm92aWRlcnMiLCJGZWVkUGFnZSIsIndhaXRGb3IiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsInRvQmVJblRoZURvY3VtZW50IiwiZ2V0QnlUZXh0IiwidXNlciIsInVzZXJFdmVudCIsInNldHVwIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwibG9hZE1vcmVCdXR0b24iLCJnZXRCeVJvbGUiLCJuYW1lIiwiY2xpY2siLCJ0b0hhdmVUZXh0Q29udGVudCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJ0aW1lb3V0IiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJidXR0b25zIiwiZ2V0QWxsQnlSb2xlIiwibGVuZ3RoIiwiZm9jdXMiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJ0b0JlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInZhbHVlIiwiaW5uZXJXaWR0aCIsIm1vY2tTY3JvbGxUbyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwic2Nyb2xsWSIsInNjcm9sbFRvIiwibW9ja1BlcmZvcm1hbmNlTm93Iiwic3B5T24iLCJwZXJmb3JtYW5jZSIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiLCJub3ciLCJtb2NrUmVzdG9yZSJdLCJtYXBwaW5ncyI6IjtBQUtBLDJCQUEyQjtBQUMzQkEsS0FBS0MsSUFBSSxDQUFDLG9DQUFvQyxJQUFPLENBQUE7UUFDbkRDLGlCQUFpQixDQUFDLEVBQ2hCQyxRQUFRLEVBQUUsRUFDVkMsVUFBVSxFQUNWQyxPQUFPLEVBQ1BDLGFBQWEsRUFZZCxpQkFDQyxzQkFBQ0M7Z0JBQUlDLGVBQVk7O2tDQUNmLHFCQUFDRDt3QkFBSUMsZUFBWTtrQ0FDZEwsTUFBTU0sR0FBRyxDQUFDLENBQUNDLHFCQUNWLHNCQUFDSDtnQ0FBa0JDLGVBQWEsQ0FBQyxVQUFVLEVBQUVFLEtBQUtDLEVBQUUsRUFBRTs7a0RBQ3BELHFCQUFDQztrREFBSUYsS0FBS0csSUFBSSxFQUFFQyxTQUFTSixLQUFLSSxLQUFLOztrREFDbkMscUJBQUNDO2tEQUFHTCxLQUFLRyxJQUFJLEVBQUVHLFdBQVdOLEtBQUtNLE9BQU87O2tEQUN0QyxzQkFBQ0M7OzRDQUFLOzRDQUFJUCxLQUFLRyxJQUFJLEVBQUVLLFVBQVVSLEtBQUtRLE1BQU07Ozs7K0JBSGxDUixLQUFLQyxFQUFFOztvQkFPcEJOLHlCQUNDLHFCQUFDYzt3QkFDQ0MsU0FBU2hCO3dCQUNUaUIsVUFBVWY7d0JBQ1ZFLGVBQVk7a0NBRVhGLGdCQUFnQixlQUFlOzs7O1FBS3hDZ0IsaUNBQWlDLENBQUMsRUFDaENDLEtBQUssRUFDTEMsYUFBYSxFQUFFLEVBSWhCLGlCQUNDLHNCQUFDakI7Z0JBQUlDLGVBQVk7O2tDQUNmLHFCQUFDSTtrQ0FBRzs7a0NBQ0osc0JBQUNHOzs0QkFBRTs0QkFBUVE7OztrQ0FDWCxzQkFBQ1I7OzRCQUFFOzRCQUFhUyxXQUFXQyxJQUFJLENBQUM7Ozs7O0lBR3RDLENBQUE7QUFXQXpCLEtBQUtDLElBQUksQ0FBQyw4QkFBOEIsSUFBTyxDQUFBO1FBQzdDeUIsb0JBQW9C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